{"version":3,"sources":["../../js/global.js"],"names":["$","Drupal","behaviors","weaver","backTop","window","scrollTo","document","querySelector","focus","hoverFriends","element","friend","friendAction","classList","toggle","addEventListener","isInSubpages","node","undefined","contains","parentNode","navbarResize","scrollPosition","navbar","getElementById","innerWidth","body","add","remove","attach","context","settings","once","each","blockquotes","querySelectorAll","forEach","blockquote","icon","firstParagraph","newOutput","outerHTML","innerHTML","callouts","calloutIcon","callout","dataset","logoIcon","logoText","mailchimpTextfield","modal","ticking","scrollY","requestAnimationFrame","popover","html","pageTitle","children","leftColumnParagraph","prepend","leftColumn","newsShare","responsiveTables","rTable","rTableRows","length","append","rTableContainer","territorialLinks","territorialArea","territorialLink","tooltipStatus","weaver_takeover","checkOpen","tooltipToggles","tooltipToggle","target","tooltip","animation","delay","show","trigger","template","newsletterButton","topicCards","topicCard","subpages","topicCardButton","on","collapse","activeSubpagesButton","e","troubleshooter","onkeyup","ctrlKey","altKey","which","toggleTakeover","jQuery"],"mappings":"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","sourcesContent":["/**\n * @file\n * Global utilities.\n *\n */\n(function ($, Drupal) {\n\n  'use strict';\n\n  Drupal.behaviors.weaver = {\n\n    backTop: function() {\n      window.scrollTo(0,0);\n      document.querySelector('#takeover-button a').focus();\n    },\n\n    hoverFriends: function(element, friend) {\n      function friendAction(element, friend) {\n        friend.classList.toggle('hover-friend');\n        element.classList.toggle('hover-friend');\n      }\n\n      element.addEventListener('mouseover', function() {\n        friendAction(element, friend);\n      });\n      friend.addEventListener('mouseover', function() {\n        friendAction(element, friend);\n      });\n      element.addEventListener('mouseout', function() {\n        friendAction(element, friend);\n      });\n      friend.addEventListener('mouseout', function() {\n        friendAction(element, friend);\n      });\n    },\n\n    isInSubpages: function(node) {\n      while (node != null && node != undefined) {\n        if (node.classList != undefined) {\n          if (node.classList.contains('subpage-container')) {\n            return true;\n          }\n        }\n        node = node.parentNode;\n      }\n      return false;\n    },\n\n    navbarResize: function(scrollPosition) {\n      let navbar = document.getElementById('header').querySelector('.navbar');\n\n      if (navbar) {\n        if (scrollPosition > 130 && window.innerWidth > 767) {\n          document.body.classList.add('navbar-reduced');\n        } else {\n          document.body.classList.remove('navbar-reduced');\n        }\n      }\n    },\n\n    attach: function (context, settings) {\n\n          /////////////////////////////////////////\n          // ANCHORS\n          // if (window.location.hash != null) {\n          //   let scrollToElement = document.getElementById(window.location.hash.replace('#', ''));\n          //   scrollToHash(scrollToElement);\n          //   return false;\n          // }\n\n          // let anchorLinks = document.querySelectorAll(\"a[href^='#']\");\n          // if (anchorLinks) {  \n          //   anchorLinks.forEach((anchorLink) => {\n          //     anchorLink.addEventListener('click', (e) => {\n          //       let scrollToElement = document.getElementById(anchorLink.getAttribute('href').replace('#', ''));\n          //       console.log(scrollToElement);\n          //       scrollToHash(scrollToElement);\n          //       e.preventDefault();\n          //     });\n          //   });\n          // }\n\n          // function scrollToHash(scrollToElement) {\n          //   if (scrollToElement) {\n          //     let scrollPosition = scrollToElement.getBoundingClientRect().top + window.pageYOffset - 150;\n          //     window.scrollTo({ top: scrollPosition });\n          //   }\n          // }\n          \n        // ensures javascript runs only once per page load and not with every ajax call\n        $('body', context).once('weaver').each(function () { \n  \n          const weaver = Drupal.behaviors.weaver;\n\n          /////////////////////////////////////////\n          // BACK TO TOP\n          document.getElementById('back-top').addEventListener('click', function() {\n            weaver.backTop();\n          });\n\n          /////////////////////////////////////////\n          // BLOCKQUOTE\n          let blockquotes = document.querySelectorAll('blockquote');\n          if (blockquotes) {\n            blockquotes.forEach((blockquote) => {\n\n              // ensures that blockquotes with long first paragraphs that contain links will look good\n              if (blockquote.querySelector('.fontawesome-icon-inline')) {\n                let icon = blockquote.querySelector('.fontawesome-icon-inline');\n                let firstParagraph = blockquote.querySelector('p');\n\n                // remove the icon\n                blockquote.querySelector('.fontawesome-icon-inline').remove();\n\n                // wrap remaining text in a span\n                let newOutput = icon.outerHTML + '<span>' + firstParagraph.innerHTML + '</span>';\n                firstParagraph.innerHTML = newOutput;\n              }\n            });\n          }\n\n          /////////////////////////////////////////\n          // CALLOUTS\n          let callouts = document.querySelectorAll('.callout');\n          let calloutIcon = '<i class=\"fal fa-comment-exclamation\"></i>';\n\n          if (callouts) {\n            callouts.forEach((callout) => {\n              // substitute a custom icon if user has altered\n              if (callout.dataset.icon) {\n                calloutIcon = '<i class=\"fal fa-' + callout.dataset.icon + '\"></i>';\n              }\n\n              // add span wrapper around text\n              callout.innerHTML = calloutIcon + '<span>' + callout.innerHTML + '</span>';\n            });\n          }\n\n          /////////////////////////////////////////\n          // LOGOS\n          // if logo icon is hovered, hover for logo text and vice versa\n          const logoIcon = document.querySelector('.navbar-logo-icon');\n          const logoText = document.querySelector('.navbar-logo-text');\n          weaver.hoverFriends(logoIcon, logoText);\n\n          /////////////////////////////////////////\n          // MAILCHIMP\n          // pop up modal on textfield click\n          let mailchimpTextfield = document.getElementById('lrb-mailchimp-signup').querySelector('input[name=lrb-mailchimp]');\n          if (mailchimpTextfield) {\n            mailchimpTextfield.addEventListener('click', () => {\n              $('#mailchimp-signup-modal').modal('show');\n            });\n          }\n\n          /////////////////////////////////////////\n          // NAVBAR\n          // resize navbar on scroll\n          let ticking = false;\n          window.addEventListener('scroll', function() {\n            let scrollPosition = window.scrollY;\n\n            if (!ticking) {\n              window.requestAnimationFrame(function() {\n                weaver.navbarResize(scrollPosition);\n                ticking = false;\n              });\n\n              ticking = true;\n            }\n          });\n\n          ///////////////////////////////////////\n          // POPOVERS\n          // enable all popovers\n          $('[data-toggle=\"popover\"]').popover({\n            html: true\n          });\n\n          ///////////////////////////////////////\n          // FIRST CONTAINERS\n          // if Resources or image is in right column and is first on the page, move the page title down into the left column\n          let pageTitle = document.getElementById('block-weaver-page-title');\n\n          // only on topics page\n          if (document.body.classList.contains('node--type-lrb-topic') || document.body.classList.contains('node--type-wv-content-page')) {\n\n            // only if first paragraph on page is a two-column container and text block is first paragraph in left column\n            let firstParagraph = document.querySelector('.field--name-field-wv-content .field__item').children[0];\n\n            if (firstParagraph.classList.contains('paragraph--type--wv-container')) {\n              let leftColumnParagraph = firstParagraph.querySelector('.field--name-field-wv-container-content .field__item').children[0];\n\n              if (leftColumnParagraph.classList.contains('paragraph--type--weaver-text')) {\n                // move Page Title into this text block\n                leftColumnParagraph.querySelector('.field__item').prepend(pageTitle);\n              }\n            }\n\n            // if first element on a page is two-column text and image and image is on the right, move the page title down into the left column\n            if (firstParagraph.classList.contains('paragraph--type--weaver-twocol-text-image') && firstParagraph.classList.contains('image-right')) {\n              let leftColumn = firstParagraph.querySelector('.text-col .text-formatted');\n              leftColumn.prepend(pageTitle);\n            }\n          }\n\n\n          ///////////////////////////////////////\n          // SOCIAL LINKS (News Pages)\n          // expand social links when share button clicked\n          let newsShare = document.getElementById('news-share');\n          if (newsShare) {\n            newsShare.addEventListener('click', function() {\n              newsShare.classList.toggle('active');\n            });\n          }\n\n          ///////////////////////////////////////\n          // TABLES\n          // // turn tables added via CKEditor into responsive ones\n          // let ckeditorTables = document.querySelectorAll('.text-formatted table');\n          // if (ckeditorTables) {\n          //   ckeditorTables.forEach((ckeditorTable) => {\n\n          //   });\n          // }\n\n          let responsiveTables = document.querySelectorAll('.table-responsive');\n          if (responsiveTables) {\n            responsiveTables.forEach((rTable) => {\n              // count number of table rows\n              let rTableRows = rTable.querySelectorAll('tr');\n\n              if (rTable.parentNode.parentNode.classList.contains('view-lrb-collective-agreements') == false) {\n                $(rTable).prepend('<p class=\"text-center font-size-sm d-block d-lg-none\">Scroll left and right to view more columns</p>');\n\n                if (rTableRows.length > 10) {\n                  $(rTable).append('<p class=\"text-center font-size-sm d-block d-lg-none\">Scroll left and right to view more columns</p>');\n                }\n              } else {\n                let rTableContainer = rTable.parentNode;\n                $(rTableContainer).once().prepend('<p class=\"text-center font-size-sm d-block d-lg-none\">Scroll left and right to view more columns</p>');\n                $(rTableContainer).once().append('<p class=\"text-center font-size-sm d-block d-lg-none\">Scroll left and right to view more columns</p>');\n              }\n            });\n          }\n\n          ///////////////////////////////////////\n          // TERRITORIAL ACKNOWLEDGEMENT\n          // highlight when scrolled to\n          let territorialLinks = document.querySelectorAll('a[href=\"#territorial\"]');\n          let territorialArea = document.getElementById('territorial');\n\n          if (territorialLinks && territorialArea) {\n            territorialLinks.forEach((territorialLink) => {\n              territorialLink.addEventListener('click', () => {\n                territorialArea.classList.add('animate');\n\n                territorialArea.addEventListener('transitionend', () => {\n                  territorialArea.classList.remove('animate');\n                }); \n              });\n            });\n          }\n          \n          ///////////////////////////////////////\n          // TOOLTIPS\n\n          let tooltipStatus = true;\n\n          // don't open tooltips if takeover active\n          if (Drupal.behaviors.weaver_takeover.checkOpen('menu') || Drupal.behaviors.weaver_takeover.checkOpen('search')) {\n            tooltipStatus = false;\n          }\n\n          if (window.innerWidth < 992) {\n            tooltipStatus = false;\n          }\n\n\t\t\t\t\t// enable all tooltips, but not on mobile\n          if (tooltipStatus === true) {\n\t\t\t\t    const tooltipToggles = document.querySelectorAll('[data-toggle=\"tooltip\"]');\n\n            if (tooltipToggles) {\n              tooltipToggles.forEach((tooltipToggle) => {\n                if ((tooltipToggle.dataset.target != null && tooltipToggle.dataset.target == 'takeover-menu') || tooltipToggle.classList.contains('btn-round')) {\n                  $(tooltipToggle).tooltip({\n                    animation: true,\n                    delay: { show: 500 },\n                    trigger: 'hover',\n                    template: '<div class=\"tooltip tooltip-yellow\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n                  });\n\n                 } else {\n\n                  $(tooltipToggle).tooltip({\n                    animation: true,\n                    delay: { show: 500 },\n                    trigger: 'hover'\n                  });\n                }\n              });\n            }\n            const newsletterButton = document.getElementById('newsletter-button');\n            if (newsletterButton) {\n              $(newsletterButton).tooltip({\n                animation: true,\n                delay: { show: 500 },\n                trigger: 'hover'\n              });\n            }\n          }\n\n          //////////////////////////////////////\n          // TOPICS GRID\n          let topicCards = document.querySelectorAll('.topics-grid-card');\n          if (topicCards) {\n            topicCards.forEach((topicCard) => {\n              weaver.hoverFriends(topicCard.querySelector('.image-container a'), topicCard.querySelector('.topics-grid-text h3 a'));\n\n              // close other topics dropdowns if one is opened\n              let subpages = topicCard.querySelector('.topic-subpages');\n              let topicCardButton = topicCard.querySelector('.topics-subpages-button');\n\n              $(subpages).on('show.bs.collapse', function() {\n                $('.topic-subpages.show').collapse('hide');\n                document.querySelectorAll('.topics-subpages-button.active').forEach((activeSubpagesButton) => {\n                  activeSubpagesButton.classList.remove('active');\n                });\n                \n                topicCardButton.classList.add('active');\n              });\n            });\n\n            document.addEventListener('click', (e) => {\n              let node = e.target.parentNode;\n              let isInSubpages = weaver.isInSubpages(node);\n\n              if (isInSubpages == false) {\n                $('.topic-subpages.show').collapse('hide');\n                document.querySelectorAll('.topics-subpages-button.active').forEach((activeSubpagesButton) => {\n                  activeSubpagesButton.classList.remove('active');\n                });\n              }\n            });\n          }\n\n\n          /////////////////////////////////////\n          // TROUBHESHOOTER\n          let troubleshooter = document.querySelector('.view-lrb-troubleshooter.view-display-id-block_1');\n          if (troubleshooter) {\n            $('#troubleshooter-full').on('shown.bs.collapse', function() {\n              troubleshooter.classList.add('expanded-full');\n            });\n            $('#troubleshooter-full').on('hidden.bs.collapse', function() {\n              troubleshooter.classList.remove('expanded-full');\n            });\n          }\n        });\n\n        // KEYBOARD SHORTCUTS\n        document.onkeyup = function(e) {\n          // CTRL+ALT+M\n          if (e.ctrlKey && e.altKey && e.which == 77) {\n            // toggle Takeover Menu\n            Drupal.behaviors.weaver_takeover.toggleTakeover('menu');\n          }\n          // CTRL+ALT+S\n          if (e.ctrlKey && e.altKey && e.which == 83) {\n            // toggle Takeover Search\n            Drupal.behaviors.weaver_takeover.toggleTakeover('search');\n          }\n          // up arrow\n          if (e.ctrlKey && e.altKey && e.which == 38) {\n            // scroll to top\n            weaver.backTop();\n          }\n          // down arrow\n          if (e.ctrlKey && e.altKey && e.which == 40) {\n            // scroll to bottom\n            window.scrollTo(9999999,9999999);\n            document.querySelector('.region-footer-bottom a:last-child').focus();\n          }\n        };\n\n    }\n  };\n\n})(jQuery, Drupal);\n"],"file":"global.js"}