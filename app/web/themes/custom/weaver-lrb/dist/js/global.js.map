{"version":3,"sources":["../../js/global.js"],"names":["$","Drupal","behaviors","weaver","backTop","window","scrollTo","document","querySelector","focus","hoverFriends","element","friend","friendAction","classList","toggle","addEventListener","isInSubpages","node","undefined","contains","parentNode","navbarResize","scrollPosition","navbar","getElementById","innerWidth","body","add","remove","attach","context","settings","once","each","blockquotes","querySelectorAll","forEach","blockquote","icon","firstParagraph","newOutput","outerHTML","innerHTML","setTimeout","callouts","calloutIcon","callout","dataset","logoIcon","logoText","mailchimpTextfield","modal","ticking","scrollY","requestAnimationFrame","popover","html","pageTitle","children","leftColumnParagraph","prepend","leftColumn","resourcesJump","resourcesFieldItem","closest","afterResources","nextElementSibling","weaver_views","getOffsetTop","newsShare","responsiveTablesText","responsiveTables","horizontalTableScrollText","rTable","rTableRows","length","append","rTableContainer","ajaxComplete","event","xhr","territorialLinks","territorialArea","territorialLink","tooltipStatus","weaver_takeover","checkOpen","tooltipToggles","tooltipToggle","target","tooltip","animation","delay","show","trigger","template","newsletterButton","topicCards","topicCard","subpages","topicCardButton","on","collapse","activeSubpagesButton","e","troubleshooter","onkeyup","ctrlKey","altKey","which","toggleTakeover","jQuery"],"mappings":"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","sourcesContent":["/**\n * @file\n * Global utilities.\n *\n */\n(function ($, Drupal) {\n\n  'use strict';\n\n  Drupal.behaviors.weaver = {\n\n    backTop: function() {\n      window.scrollTo(0,0);\n      document.querySelector('#takeover-button a').focus();\n    },\n\n    hoverFriends: function(element, friend) {\n      function friendAction(element, friend) {\n        friend.classList.toggle('hover-friend');\n        element.classList.toggle('hover-friend');\n      }\n\n      element.addEventListener('mouseover', function() {\n        friendAction(element, friend);\n      });\n      friend.addEventListener('mouseover', function() {\n        friendAction(element, friend);\n      });\n      element.addEventListener('mouseout', function() {\n        friendAction(element, friend);\n      });\n      friend.addEventListener('mouseout', function() {\n        friendAction(element, friend);\n      });\n    },\n\n    isInSubpages: function(node) {\n      while (node != null && node != undefined) {\n        if (node.classList != undefined) {\n          if (node.classList.contains('subpage-container')) {\n            return true;\n          }\n        }\n        node = node.parentNode;\n      }\n      return false;\n    },\n\n    navbarResize: function(scrollPosition) {\n      let navbar = document.getElementById('header').querySelector('.navbar');\n\n      if (navbar) {\n        if (scrollPosition > 130 && window.innerWidth > 767) {\n          document.body.classList.add('navbar-reduced');\n        } else {\n          document.body.classList.remove('navbar-reduced');\n        }\n      }\n    },\n\n    attach: function (context, settings) {\n          \n        // ensures javascript runs only once per page load and not with every ajax call\n        $('body', context).once('weaver').each(function () { \n  \n          const weaver = Drupal.behaviors.weaver;\n\n          /////////////////////////////////////////\n          // BACK TO TOP\n          document.getElementById('back-top').addEventListener('click', function() {\n            weaver.backTop();\n          });\n\n          /////////////////////////////////////////\n          // BLOCKQUOTE\n          let blockquotes = document.querySelectorAll('blockquote');\n          if (blockquotes) {\n            blockquotes.forEach((blockquote) => {\n\n              // ensures that blockquotes with long first paragraphs that contain links will look good\n              if (blockquote.querySelector('.fontawesome-icon-inline')) {\n                let icon = blockquote.querySelector('.fontawesome-icon-inline');\n                let firstParagraph = blockquote.querySelector('p');\n\n                // remove the icon\n                blockquote.querySelector('.fontawesome-icon-inline').remove();\n\n                // wrap remaining text in a span\n                let newOutput = icon.outerHTML + '<span>' + firstParagraph.innerHTML + '</span>';\n                firstParagraph.innerHTML = newOutput;\n              }\n            });\n          }\n\n          //////////////////////////////////////////\n          // BODY add loaded class\n          setTimeout(() => {\n            document.body.classList.add('loaded');\n          }, 500);\n\n          /////////////////////////////////////////\n          // CALLOUTS\n          let callouts = document.querySelectorAll('.callout');\n          let calloutIcon = '<i class=\"fal fa-comment-exclamation\"></i>';\n\n          if (callouts) {\n            callouts.forEach((callout) => {\n              // substitute a custom icon if user has altered\n              if (callout.dataset.icon) {\n                calloutIcon = '<i class=\"fal fa-' + callout.dataset.icon + '\"></i>';\n              }\n\n              // add span wrapper around text\n              callout.innerHTML = calloutIcon + '<span>' + callout.innerHTML + '</span>';\n            });\n          }\n\n          /////////////////////////////////////////\n          // LOGOS\n          // if logo icon is hovered, hover for logo text and vice versa\n          const logoIcon = document.querySelector('.navbar-logo-icon');\n          const logoText = document.querySelector('.navbar-logo-text');\n          weaver.hoverFriends(logoIcon, logoText);\n\n          /////////////////////////////////////////\n          // MAILCHIMP\n          // pop up modal on textfield click\n          let mailchimpTextfield = document.getElementById('lrb-mailchimp-signup').querySelector('input[name=lrb-mailchimp]');\n          if (mailchimpTextfield) {\n            mailchimpTextfield.addEventListener('click', () => {\n              $('#mailchimp-signup-modal').modal('show');\n            });\n          }\n\n          /////////////////////////////////////////\n          // NAVBAR\n          // resize navbar on scroll\n          let ticking = false;\n          window.addEventListener('scroll', function() {\n            let scrollPosition = window.scrollY;\n\n            if (!ticking) {\n              window.requestAnimationFrame(function() {\n                weaver.navbarResize(scrollPosition);\n                ticking = false;\n              });\n\n              ticking = true;\n            }\n          });\n\n          ///////////////////////////////////////\n          // POPOVERS\n          // enable all popovers\n          $('[data-toggle=\"popover\"]').popover({\n            html: true\n          });\n\n          ///////////////////////////////////////\n          // FIRST CONTAINERS\n          // if Resources or image is in right column and is first on the page, move the page title down into the left column\n          let pageTitle = document.getElementById('block-weaver-page-title');\n\n          // only on topics page\n          if (document.body.classList.contains('node--type-lrb-topic') || document.body.classList.contains('node--type-wv-content-page')) {\n\n            // only if first paragraph on page is a two-column container and text block is first paragraph in left column\n            let firstParagraph = document.querySelector('.field--name-field-wv-content .field__item').children[0];\n\n            if (firstParagraph.classList.contains('paragraph--type--wv-container')) {\n              let leftColumnParagraph = firstParagraph.querySelector('.field--name-field-wv-container-content .field__item').children[0];\n\n              if (leftColumnParagraph.classList.contains('paragraph--type--weaver-text')) {\n                // move Page Title into this text block\n                leftColumnParagraph.querySelector('.field__item').prepend(pageTitle);\n\n                // add class to body\n                document.body.classList.add('title-moved');\n              }\n            }\n\n            // if first element on a page is two-column text and image and image is on the right, move the page title down into the left column\n            if (firstParagraph.classList.contains('paragraph--type--weaver-twocol-text-image') && firstParagraph.classList.contains('image-right')) {\n              let leftColumn = firstParagraph.querySelector('.text-col .text-formatted');\n              leftColumn.prepend(pageTitle);\n            }\n          }\n\n          ///////////////////////////////////////\n          // Resources Jump\n          // make \"Keep reading\" link under Resource blocks jump to next paragraph\n          const resourcesJump = document.getElementById('resources-jump');\n          if (resourcesJump) {\n            resourcesJump.addEventListener('click', () => {\n              // get next paragraph\n              let resourcesFieldItem = resourcesJump.closest('.paragraph--type--wv-container').parentNode;\n              let afterResources = resourcesFieldItem.nextElementSibling;\n              if (afterResources) {\n                window.scrollTo(0, Drupal.behaviors.weaver_views.getOffsetTop(afterResources));\n              }\n            });\n          }\n\n\n          ///////////////////////////////////////\n          // SOCIAL LINKS (News Pages)\n          // expand social links when share button clicked\n          let newsShare = document.getElementById('news-share');\n          if (newsShare) {\n            newsShare.addEventListener('click', function() {\n              newsShare.classList.toggle('active');\n            });\n          }\n\n          ///////////////////////////////////////\n          // TABLES\n          // // turn tables added via CKEditor into responsive ones\n          const responsiveTablesText = (responsiveTables) => {\n            let horizontalTableScrollText = '<p class=\"horizontal-scroll-notice text-center font-size-sm font-weight-bold d-block d-lg-none\">Scroll left and right to view more columns</p>';\n\n            responsiveTables.forEach((rTable) => {\n              // count number of table rows\n              let rTableRows = rTable.querySelectorAll('tr');\n\n              if (!rTable.querySelector('.horizontal-scroll-notice')) {\n                if (rTable.parentNode.parentNode.classList.contains('view-lrb-collective-agreements') == false) {\n\n                  $(rTable).prepend(horizontalTableScrollText);\n\n                  if (rTableRows.length > 10) {\n                    $(rTable).append(horizontalTableScrollText);\n                  }\n                } else {\n                  let rTableContainer = rTable.parentNode;\n                  $(rTableContainer).once().prepend(horizontalTableScrollText);\n                  $(rTableContainer).once().append(horizontalTableScrollText);\n                }\n              }\n            });\n          };\n\n          let responsiveTables = document.querySelectorAll('.table-responsive');\n          if (responsiveTables) {\n            responsiveTablesText(responsiveTables);\n          }\n          $(document).ajaxComplete(function (event, xhr, settings) {\n            let responsiveTables = document.querySelectorAll('.table-responsive');\n            if (responsiveTables) {\n              responsiveTablesText(responsiveTables);\n            }\n          });\n          \n          ///////////////////////////////////////\n          // TERRITORIAL ACKNOWLEDGEMENT\n          // highlight when scrolled to\n          let territorialLinks = document.querySelectorAll('a[href=\"#territorial\"]');\n          let territorialArea = document.getElementById('territorial');\n\n          if (territorialLinks && territorialArea) {\n            territorialLinks.forEach((territorialLink) => {\n              territorialLink.addEventListener('click', () => {\n                territorialArea.classList.add('animate');\n\n                territorialArea.addEventListener('transitionend', () => {\n                  territorialArea.classList.remove('animate');\n                }); \n              });\n            });\n          }\n          \n          ///////////////////////////////////////\n          // TOOLTIPS\n\n          let tooltipStatus = true;\n\n          // don't open tooltips if takeover active\n          if (Drupal.behaviors.weaver_takeover.checkOpen('menu') || Drupal.behaviors.weaver_takeover.checkOpen('search')) {\n            tooltipStatus = false;\n          }\n\n          if (window.innerWidth < 992) {\n            tooltipStatus = false;\n          }\n\n\t\t\t\t\t// enable all tooltips, but not on mobile\n          if (tooltipStatus === true) {\n\t\t\t\t    const tooltipToggles = document.querySelectorAll('[data-toggle=\"tooltip\"]');\n\n            if (tooltipToggles) {\n              tooltipToggles.forEach((tooltipToggle) => {\n                if ((tooltipToggle.dataset.target != null && tooltipToggle.dataset.target == 'takeover-menu') || tooltipToggle.classList.contains('btn-round')) {\n                  $(tooltipToggle).tooltip({\n                    animation: true,\n                    delay: { show: 500 },\n                    trigger: 'hover',\n                    template: '<div class=\"tooltip tooltip-yellow\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n                  });\n\n                 } else {\n\n                  $(tooltipToggle).tooltip({\n                    animation: true,\n                    delay: { show: 500 },\n                    trigger: 'hover'\n                  });\n                }\n              });\n            }\n            const newsletterButton = document.getElementById('newsletter-button');\n            if (newsletterButton) {\n              $(newsletterButton).tooltip({\n                animation: true,\n                delay: { show: 500 },\n                trigger: 'hover'\n              });\n            }\n          }\n\n          //////////////////////////////////////\n          // TOPICS GRID\n          let topicCards = document.querySelectorAll('.topics-grid-card');\n          if (topicCards) {\n            topicCards.forEach((topicCard) => {\n              weaver.hoverFriends(topicCard.querySelector('.image-container a'), topicCard.querySelector('.topics-grid-text h3 a'));\n\n              // close other topics dropdowns if one is opened\n              let subpages = topicCard.querySelector('.topic-subpages');\n              let topicCardButton = topicCard.querySelector('.topics-subpages-button');\n\n              $(subpages).on('show.bs.collapse', function() {\n                $('.topic-subpages.show').collapse('hide');\n                document.querySelectorAll('.topics-subpages-button.active').forEach((activeSubpagesButton) => {\n                  activeSubpagesButton.classList.remove('active');\n                });\n                \n                topicCardButton.classList.add('active');\n              });\n            });\n\n            document.addEventListener('click', (e) => {\n              let node = e.target.parentNode;\n              let isInSubpages = weaver.isInSubpages(node);\n\n              if (isInSubpages == false) {\n                $('.topic-subpages.show').collapse('hide');\n                document.querySelectorAll('.topics-subpages-button.active').forEach((activeSubpagesButton) => {\n                  activeSubpagesButton.classList.remove('active');\n                });\n              }\n            });\n          }\n\n\n          /////////////////////////////////////\n          // TROUBHESHOOTER\n          let troubleshooter = document.querySelector('.view-lrb-troubleshooter.view-display-id-block_1');\n          if (troubleshooter) {\n            $('#troubleshooter-full').on('shown.bs.collapse', function() {\n              troubleshooter.classList.add('expanded-full');\n            });\n            $('#troubleshooter-full').on('hidden.bs.collapse', function() {\n              troubleshooter.classList.remove('expanded-full');\n            });\n          }\n        });\n\n        // KEYBOARD SHORTCUTS\n        document.onkeyup = function(e) {\n          // CTRL+ALT+M\n          if (e.ctrlKey && e.altKey && e.which == 77) {\n            // toggle Takeover Menu\n            Drupal.behaviors.weaver_takeover.toggleTakeover('menu');\n          }\n          // CTRL+ALT+S\n          if (e.ctrlKey && e.altKey && e.which == 83) {\n            // toggle Takeover Search\n            Drupal.behaviors.weaver_takeover.toggleTakeover('search');\n          }\n          // up arrow\n          if (e.ctrlKey && e.altKey && e.which == 38) {\n            // scroll to top\n            weaver.backTop();\n          }\n          // down arrow\n          if (e.ctrlKey && e.altKey && e.which == 40) {\n            // scroll to bottom\n            window.scrollTo(9999999,9999999);\n            document.querySelector('.region-footer-bottom a:last-child').focus();\n          }\n        };\n\n    }\n  };\n\n})(jQuery, Drupal);\n"],"file":"global.js"}